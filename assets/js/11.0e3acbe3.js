(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{202:function(t,a,s){t.exports=s.p+"assets/img/2018-12-19-15-55-53.df64a5c9.png"},203:function(t,a,s){t.exports=s.p+"assets/img/2018-12-19-16-00-57.8b04e780.png"},213:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("参考"),n("br"),t._v(" "),n("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue"),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://router.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue Router"),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://vuex.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuex"),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://vue-loader.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue Loader"),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://cn.vuejs.org/v2/style-guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue.js风格指南"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"vue"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue","aria-hidden":"true"}},[t._v("#")]),t._v(" Vue")]),t._v(" "),n("ul",[n("li",[t._v("组件顶层元素不要使用ID选择器")]),t._v(" "),n("li",[t._v("template中用不到的数据，不要写在data中，比如定时器的timer (可以以注释的形式写在data中，方便知道this上都有哪些变量)")])]),t._v(" "),n("h2",{attrs:{id:"vue-router"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-router","aria-hidden":"true"}},[t._v("#")]),t._v(" Vue Router")]),t._v(" "),n("h3",{attrs:{id:"_1-编程式导航传参方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-编程式导航传参方式","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 编程式导航传参方式")]),t._v(" "),n("ul",[n("li",[t._v("通常，我会使用带查询参数的这种，因为params虽然可以使url优雅一些，但不将参数保存在本地的话的就不支持刷新操作了")]),t._v(" "),n("li",[t._v("路由参数获取的操作最好在beforeRouteEnter，beforeRouteLeave等hook中完成，而不是直接使用$route。使用$route时，触发beforeRouteUpdate时，$route的获取的参数值是不会变化的")]),t._v(" "),n("li",[t._v("在改变url中参数而不改变路由指向的组件时，会触发beforeRouteUpdate。所以，一般在带参数的组件中，在beforeRouteEnter， beforeRouteUpdate中最好都写上相应的获取参数逻辑")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue Router传参方式")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意name和params搭配，path和query搭配")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 命名的路由，url不会体现params")]),t._v("\nrouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 带查询参数，变成 /register?plan=private")]),t._v("\nrouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'register'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" plan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'private'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参数匹配")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在routes中先配好匹配的路由`{ path: '/user/:id', component: User }`, 然后从to.params.id中取值")]),t._v("\nrouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/user/")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("userId"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-location-search-hash和to-query-params"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-location-search-hash和to-query-params","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. location.search/hash和to.query/params")]),t._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("文章中"),n("code",[t._v("location.search")]),t._v(" === "),n("code",[t._v("query")]),t._v(" !== "),n("code",[t._v("to.query")])])]),t._v(" "),n("p",[t._v("通常，我使用的是hash路由，传参方式也是使用"),n("code",[t._v("{path: '/', query: {a: 1, b: 2}}")]),t._v("这样类似query可以体现在url中的方式，不过这和浏览器原生的query是不一样的:")]),t._v(" "),n("ol",[n("li",[t._v("href中放在"),n("code",[t._v("#")]),t._v("后面的都作为hash，所以"),n("code",[t._v("#")]),t._v("后面出现的"),n("code",[t._v("?")]),t._v("query也是hash的一部分(优先级高于第2条)")]),t._v(" "),n("li",[t._v("href中"),n("code",[t._v("?")]),t._v("后面的"),n("code",[t._v("#")]),t._v("前面的部分作为"),n("code",[t._v("location.search")])]),t._v(" "),n("li",[t._v("不过location.search也是有优点的，有时url中需要携带每个路由都能获取到了query"),n("br"),t._v("\n例：假设后台生成一个url"),n("code",[t._v("http://abc.com?userId=1&password=2")]),t._v("需要自动登录，所以此时hash路由一定时加载query后面的，比如"),n("code",[t._v("http://abc.com?userId=1&password=2#/")]),t._v("，此时，通过"),n("code",[t._v("to.query")]),t._v("就无能为力了，需要自己解析"),n("code",[t._v("location.search")])])]),t._v(" "),n("p",[t._v("例："),n("code",[t._v("http://localhost:8082/mobile.html?a=1&b=2#/cameras?c=3&d=4")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在beforeRouteEnter中 console的一些信息")]),t._v("\nto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"c":"3","d":"4"}\'')]),t._v("      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hash`#`后的`?`")]),t._v("\nto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{}'")]),t._v("                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不是路由匹配的情况时，url中不会体现")]),t._v("\nlocation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'?a=1&b=2'")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// `?`后`#`前的query")]),t._v("\nlocation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#/cameras?c=3&d=4'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// `#`后面的所有")]),t._v("\n")])])]),n("h2",{attrs:{id:"vuex"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vuex","aria-hidden":"true"}},[t._v("#")]),t._v(" Vuex")]),t._v(" "),n("ul",[n("li",[t._v("同一份数据，在不同组件中可能有很多中需求，比如1.需要实时更新 2.首次请求到的即可，最好在vuex中定义多个变量，指代不同的需求，不然会增加无谓的渲染")])]),t._v(" "),n("h2",{attrs:{id:"vue-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-loader","aria-hidden":"true"}},[t._v("#")]),t._v(" Vue Loader")]),t._v(" "),n("h3",{attrs:{id:"_1-资源路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-资源路径","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 资源路径")]),t._v(" "),n("p",[t._v("经常遇到引用资源的方式，js中的最好理解，webpack中配过对应的alias即可使用，如下1，4"),n("br"),t._v("\n其他则会使用"),n("code",[t._v("~")]),t._v("来表示后面的路径是alias或者npm package中的资源，包括scss的@import，css中的资源路径，template中的资源路径，这是多个loader共同作用的结果")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org/zh/guide/asset-url.html#%E8%BD%AC%E6%8D%A2%E8%A7%84%E5%88%99",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue Loader - 处理资源路径"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("对如下2，3起作用，具体截图如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(202),alt:"Vue Loader 处理资源路径"}})]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/webpack-contrib/css-loader#import",target:"_blank",rel:"noopener noreferrer"}},[t._v("css-loader - import"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("对如下5，6起作用，具体截图如下：")]),t._v(" "),n("blockquote",[n("p",[t._v("The css-loader interprets @import and url() like import/require() and will resolve them.")])]),t._v(" "),n("p",[n("img",{attrs:{src:s(203),alt:"css-loader @import"}})]),t._v(" "),n("div",{staticClass:"language-vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 1 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("require('common/img/logo-icon.png')"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 2 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("~some-npm-package/foo.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 3 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("~common/foo.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ICON")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'common/test.png'")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("scss"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token style"}},[n("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  // 5\n  "),n("span",{pre:!0,attrs:{class:"token atrule"}},[n("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'~common/scss/index.scss'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // 6\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token url"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'~common/img/login-left-bg.jpg'"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" no-repeat center/cover"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);